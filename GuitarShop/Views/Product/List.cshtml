@model GuitarShop.Models.ProductsViewModel

<div class="row">
    <div class="col-3">
        <div class="list-group">
            <a asp-controller="Product" asp-action="List" asp-route-id="All"
               class="list-group-item @Model.CheckActiveCategory("All")">
                All
            </a>

            @foreach (var c in Model.Categories)
            {
                <a asp-controller="Product" asp-action="List" asp-route-id="@c.Name"
                   class="list-group-item @Model.CheckActiveCategory(c.Name)">
                    @c.Name
                </a>
            }
        </div>
    </div>

    <div class="col-9">
        @foreach (var p in Model.Products)
        {
            <div class="border rounded p-2 mb-3">
                <strong>@p.Name</strong>
                <span class="text-muted">(@p.Category?.Name)</span>
                <div>@p.Price.ToString("C")</div>

                <!-- add-to-cart button to trigger TempData message -->
                <form asp-controller="Cart" asp-action="Add" method="post" class="mt-1">
                    <input type="hidden" name="id" value="@p.ProductID" />
                    <button type="submit" class="btn btn-sm btn-primary">Add to Cart</button>
                </form>
            </div>
        }
    </div>
</div>
